<div class="container blog-container">
	<!-- <pre>{{$ctrl.post | json}}</pre> -->
	<div class = "row text-center">
		<div class = "col-md-12">
			<div ng-if="$ctrl.isNewPost">
				<h1>New Post</h1>
			</div>
		</div>
	</div>
	<div class = "row">
		<div class = "col-md-12">
			<form class = "form-horizontal" name = "postDetailForm" novalidate>
				<div class = "form-group">
					<label for = "postTitle" class="col-sm-2 control-label">Title:</label>
					<div class = "col-sm-9">
						<input
						id = "postTitle"
						class = "form-control"
						type="text"
						name="title"
						required="required"
						ng-model-options = "{
						'updateOn':'default blur',
						'debounce': {
						'default': 250,
						'blur': 0
						}
						}"
						ng-model = "$ctrl.post.allow_user_write.title">
					</div>
				</div>
				<div class = "form-group">
					<label for = "postDescription" class="col-sm-2 control-label">Description:</label>
					<div class = "col-sm-9">
						<textarea
						id = "postDescription"
						class = "form-control"
						type="text"
						rows = "2"
						required="required"
						name="description"
						ng-model-options = "{
						'updateOn':'default blur',
						'debounce': {
						'default': 250,
						'blur': 0
						}
						}"
						ng-model = "$ctrl.post.allow_user_write.description">
					</div>
				</div>
				<div class = "form-group">
					<label for = "postAuthor" class="col-sm-2 control-label">Author:</label>
					<div class = "col-sm-9">
						<select
							id = "postAuthor"
							class = "form-control"
							name="author"
							required="required"
							ng-model-options = "{
							'updateOn': 'default blur',
							'debounce': {
							'default': 250,
							'blur': 0
							}
							}"
							ng-model = "$ctrl.post.allow_user_write.author">
							<option>Marc Burt</option>
						</select>
					</div>
				</div>
				<div class = "form-group">
					<label for = "postBody" class="col-sm-2 control-label">Body:</label>
					<div class = "col-sm-9">
						<textarea
						spellcheck="true"

						onkeydown="if(event.keyCode===9){var v=this.value,s=this.selectionStart,e=this.selectionEnd;this.value=v.substring(0, s)+'\t'+v.substring(e);this.selectionStart=this.selectionEnd=s+1;return false;}"
						id = "postBody"
						required="required"
						class = "form-control"
						rows = "30"
						name="body"
						ng-model = "$ctrl.post.allow_user_write.body">
						</textarea>
					</div>
				</div>
				<label for = "postTags" class="col-sm-2 control-label">Tags:</label>
				<div class = "col-sm-9">
					<tags-input
					id = "postTags"
					name="tags"
					class = "ti-input-lg"
					ng-model-options = "{
					'updateOn':'default blur',
					'debounce': {
					'default': 250,
					'blur': 0
					}
					}"
					ng-model = "$ctrl.post.allow_user_write.tags">
					</tags-input>

					<br>
					<br>
				</div>
				<div class="text-center">
					<div ng-if="!$ctrl.isNewPost">
						<button
						class="btn btn-lg btn-danger"
						ng-click="$ctrl.deletePost();">
						Delete post
						</button>
						<button
						class="btn btn-lg btn-success"
						ng-click="$ctrl.updatePost();">
						Update Post
						</button>
						<button
						class="btn btn-lg btn-primary"
						ng-click="$ctrl.previewPost();">
						PreviewPost
						</button>
					</div>
					<div ng-if="$ctrl.isNewPost">
						<button
						class = "btn btn-lg btn-primary"
						ng-disabled="postDetailForm.$invalid"
						ng-click="$ctrl.savePost();">
						Create Post
						</button>
						<button
						class="btn btn-lg btn-primary"
						ng-click="$ctrl.previewPost();">
						PreviewPost
						</button>
					</div>
				</div>
			</form>
			<br>
			<br>
			<br>
			<br>
		</div>
	</div>
</div>